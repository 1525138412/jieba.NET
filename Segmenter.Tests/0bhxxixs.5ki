using System;
using System.Text.RegularExpressions;
using NUnit.Framework;

namespace JiebaNet.Segmenter.Tests
{
    [TestFixture]
    public class TestSegmenter
    {
        [TestCase]
        public void TestCutKnownWords()
        {
            JiebaSegmenter segmenter = new JiebaSegmenter();

            var sentence = "同学们看到良好的测试结果，量纲分析结果也不错";
            //var sentence = "I am a programmer.";
            var result = segmenter.process(sentence, JiebaSegmenter.SegMode.INDEX);
            Console.WriteLine(result.Count);
            foreach (var token in result)
            {
                Console.WriteLine(sentence.Sub(token.startOffset, token.endOffset));
            }

            result = segmenter.process(sentence, JiebaSegmenter.SegMode.SEARCH);
            Console.WriteLine(result.Count);
            foreach (var token in result)
            {
                Console.WriteLine(sentence.Sub(token.startOffset, token.endOffset));
            }
        }

        [TestCase]
        public void TestCutUnknownWords()
        {
            JiebaSegmenter segmenter = new JiebaSegmenter();

            var sentence = "小明不知何许人也，才看到机器学习知识";
            //var sentence = "I am a programmer.";
            var result = segmenter.process(sentence, JiebaSegmenter.SegMode.INDEX);
            Console.WriteLine(result.Count);
            foreach (var token in result)
            {
                Console.WriteLine(sentence.Sub(token.startOffset, token.endOffset));
            }

            result = segmenter.process(sentence, JiebaSegmenter.SegMode.SEARCH);
            Console.WriteLine(result.Count);
            foreach (var token in result)
            {
                Console.WriteLine(sentence.Sub(token.startOffset, token.endOffset));
            }
        }
    }
}